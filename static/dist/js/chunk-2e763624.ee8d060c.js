(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2e763624"],{"0148":function(e,t,n){"use strict";function a(e,t,n,a){var r=e.length,l=n+(a?1:-1);while(a?l--:++l<r)if(t(e[l],l,e))return l;return-1}var r=a;function l(e){return e!==e}var i=l;function c(e,t,n){var a=n-1,r=e.length;while(++a<r)if(e[a]===t)return a;return-1}var o=c;function u(e,t,n){return t===t?o(e,t,n):r(e,i,n)}t["a"]=u},"28e8":function(e,t,n){},3249:function(e,t,n){"use strict";var a=n("28e8"),r=n.n(a);r.a},4349:function(e,t,n){"use strict";var a=n("9fd3"),r=n.n(a);r.a},"8cbb":function(e,t,n){"use strict";var a=n("9ac7"),r=n("0148");function l(e,t){var n=null==e?0:e.length;return!!n&&Object(r["a"])(e,t,0)>-1}var i=l;function c(e,t,n){var a=-1,r=null==e?0:e.length;while(++a<r)if(n(t,e[a]))return!0;return!1}var o=c,u=n("6568"),s=n("a55c");function f(){}var h=f,p=n("1989"),b=1/0,v=s["a"]&&1/Object(p["a"])(new s["a"]([,-0]))[1]==b?function(e){return new s["a"](e)}:h,d=v,m=200;function g(e,t,n){var r=-1,l=i,c=e.length,s=!0,f=[],h=f;if(n)s=!1,l=o;else if(c>=m){var b=t?null:d(e);if(b)return Object(p["a"])(b);s=!1,l=u["a"],h=new a["a"]}else h=t?[]:f;e:while(++r<c){var v=e[r],g=t?t(v):v;if(v=n||0!==v?v:0,s&&g===g){var y=h.length;while(y--)if(h[y]===g)continue e;t&&h.push(g),f.push(v)}else l(h,g,n)||(h!==f&&h.push(g),f.push(v))}return f}t["a"]=g},"8d70":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",{staticClass:"settings"},[n("breadcrumb",{attrs:{data:["Clusters",e.$route.params.id,"tables"]}}),n("section",[n("table-metric"),n("replication-table"),n("zk-table")],1)],1)},r=[],l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"zkTable"},[n("div",{staticClass:"title flex flex-between flex-vcenter ptb-10"},[n("span",{staticClass:"fs-20 font-bold"},[e._v(e._s(e.$t("tables.Zookeeper Status")))])]),n("el-table",{staticClass:"tb-edit",staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},e._l(e.cols,(function(t,a){return n("el-table-column",{key:a,attrs:{label:t,align:"center"},scopedSlots:e._u([{key:"header",fn:function(t){var a=t.column;return[n("span",[e._v(e._s(a.label))])]}},{key:"default",fn:function(t){var r=t.row,l=t.column;return[n("span",0===a?[e._v(e._s(Object.keys(r)[0]))]:[e._v(e._s(Object.values(r)[0][l.label]))])]}}],null,!0)})})),1)],1)},i=[],c=n("a34a"),o=n.n(c),u=n("f976");function s(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var f=s,h=Math.max;function p(e,t,n){return t=h(void 0===t?e.length-1:t,0),function(){var a=arguments,r=-1,l=h(a.length-t,0),i=Array(l);while(++r<l)i[r]=a[t+r];r=-1;var c=Array(t+1);while(++r<t)c[r]=a[r];return c[t]=n(i),f(e,this,c)}}var b=p;function v(e){return function(){return e}}var d=v,m=n("0305"),g=m["a"]?function(e,t){return Object(m["a"])(e,"toString",{configurable:!0,enumerable:!1,value:d(t),writable:!0})}:u["a"],y=g,w=800,C=16,_=Date.now;function S(e){var t=0,n=0;return function(){var a=_(),r=C-(a-n);if(n=a,r>0){if(++t>=w)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var j=S,D=j(y),x=D;function O(e,t){return x(b(e,t,u["a"]),e+"")}var k=O,z=n("b703"),$=n("0148");function P(e,t,n,a){var r=n-1,l=e.length;while(++r<l)if(a(e[r],t))return r;return-1}var A=P,E=n("a2fb"),T=n("7804"),I=Array.prototype,F=I.splice;function Q(e,t,n,a){var r=a?A:$["a"],l=-1,i=t.length,c=e;e===t&&(t=Object(T["a"])(t)),n&&(c=Object(z["a"])(e,Object(E["a"])(n)));while(++l<i){var o=0,u=t[l],s=n?n(u):u;while((o=r(c,s,o,a))>-1)c!==e&&F.call(c,o,1),F.call(e,o,1)}return e}var N=Q;function M(e,t){return e&&e.length&&t&&t.length?N(e,t):e}var R=M,q=k(R),H=q,J=n("8cbb");function L(e){return e&&e.length?Object(J["a"])(e):[]}var U=L,Z=n("c949");function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G(e,t,n,a,r,l,i){try{var c=e[l](i),o=c.value}catch(u){return void n(u)}c.done?t(o):Promise.resolve(o).then(a,r)}function K(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var l=e.apply(t,n);function i(e){G(l,a,r,i,c,"next",e)}function c(e){G(l,a,r,i,c,"throw",e)}i(void 0)}))}}var V={data:function(){return{cols:[""],keys:[""],tableData:[],timeFilter:null,refresh:null}},mounted:function(){this.fetchData()},methods:{fetchData:function(){var e=this;return K(o.a.mark((function t(){var n,a;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Z["g"].zkStatus(e.$route.params.id);case 2:n=t.sent,a=n.data.entity,e.cols=[""],e.keys=[""],e.tableData=[],a.forEach((function(t){e.cols.push(t.host),e.keys=H(Object.keys(t),"host")})),e.keys.forEach((function(t){var n=B({},t,{});a.forEach((function(a){n[t][a["host"]]=a[t],e.tableData.push(n)})),e.tableData=U(e.tableData)}));case 9:case"end":return t.stop()}}),t)})))()},timeFilterChange:function(){this.fetchData()},timeFilterRefresh:function(){this.fetchData()}}},W=V,X=n("2877"),Y=Object(X["a"])(W,l,i,!1,null,"3885750b",null),ee=Y.exports,te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"replication-status pb-20"},[n("div",{staticClass:"title flex flex-between flex-vcenter ptb-10"},[n("span",{staticClass:"fs-20 font-bold"},[e._v(e._s(e.$t("tables.Table Replication Status")))])]),n("el-table",{staticClass:"tb-edit",staticStyle:{width:"100%"},attrs:{data:e.tableData.slice((e.currentPage-1)*e.pageSize,e.currentPage*e.pageSize),"header-cell-style":e.mergeTableHeader,border:""}},e._l(e.cols,(function(t,a){return n("el-table-column",{key:a,ref:"tableColumn",refInFor:!0,attrs:{label:t.label,prop:t.prop,width:"auto",align:"center"},scopedSlots:e._u([{key:"header",fn:function(t){var a=t.column;return[n("span",[e._v(e._s(a.label))])]}},{key:"default",fn:function(t){var r=t.row,l=t.column;return[0===a?n("span",[e._v(e._s("Table Name"===Object.keys(r)[0]?e.$t("common."+Object.keys(r)[0]):Object.keys(r)[0]))]):n("div",{class:e.getClassName(r,l.property)},[e._v(e._s(Object.values(r)[0][l.property]))])]}}],null,!0)})})),1),n("div",{staticClass:"text-center"},[e.tableData.length>0?n("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[5,10,20,40],"page-size":e.pageSize,layout:"sizes, prev, pager, next, jumper",total:e.tableData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}):e._e()],1)],1)},ne=[],ae=n("5c8a");function re(e,t){return t="function"==typeof t?t:void 0,e&&e.length?Object(J["a"])(e,void 0,t):[]}var le=re,ie=n("12a1");function ce(e,t){return Object(ie["a"])(e,t)}var oe=ce;function ue(e,t){return be(e)||pe(e,t)||fe(e,t)||se()}function se(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function fe(e,t){if(e){if("string"===typeof e)return he(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?he(e,t):void 0}}function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function pe(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var a,r,l=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0)if(l.push(a.value),t&&l.length===t)break}catch(o){c=!0,r=o}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw r}}return l}}function be(e){if(Array.isArray(e))return e}function ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function de(e,t,n,a,r,l,i){try{var c=e[l](i),o=c.value}catch(u){return void n(u)}c.done?t(o):Promise.resolve(o).then(a,r)}function me(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var l=e.apply(t,n);function i(e){de(l,a,r,i,c,"next",e)}function c(e){de(l,a,r,i,c,"throw",e)}i(void 0)}))}}var ge={data:function(){return{cols:[],tableData:[],headerData:[],timeFilter:null,refresh:null,currentPage:1,pageSize:10}},mounted:function(){this.fetchData()},methods:{fetchData:function(){var e=this;return me(o.a.mark((function t(){var n,a,r,l,i,c,u;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Z["g"].replicationStatus(e.$route.params.id);case 2:n=t.sent,a=n.data.entity,r=a.header,l=void 0===r?[]:r,i=a.tables,c=void 0===i?[]:i,e.cols=[{prop:"",label:""}],e.headerData=Object(ae["a"])(l),e.tableData=[],u={},l.forEach((function(t,n){var a="shard".concat(n+1);t.forEach((function(t,n){u["".concat(a,"_").concat(n)]=t,e.cols.push({prop:"".concat(a,"_").concat(n),label:a})}))})),e.tableData.push(ve({},"Table Name",u)),c.forEach((function(t){var n=t.name,a=t.values,r={};a.forEach((function(e,t){var n="shard".concat(t+1);e.forEach((function(e,t){r["".concat(n,"_").concat(t)]=e}))})),e.tableData.push(ve({},n,r)),e.tableData=le(e.tableData,oe)}));case 15:case"end":return t.stop()}}),t)})))()},mergeTableHeader:function(e){e.row,e.column;var t=e.rowIndex,n=e.columnIndex,a=new Set(this.headerData.map((function(e){return e.length}))),r=ue(a,1),l=r[0];if(0===t&&0!=n){if(n%l===0)return{display:"none"};this.$nextTick((function(){var e=document.querySelector(".replication-status thead>tr").children;e[n]&&(e[n].colSpan=2)}))}},timeFilterChange:function(){this.fetchData()},timeFilterRefresh:function(){this.fetchData()},handleSizeChange:function(e){this.pageSize=e},handleCurrentChange:function(e){this.currentPage=e},getClassName:function(e,t){var n=t.split("_"),a=ue(n,2),r=a[0],l=a[1],i=Object.values(e)[0],c=i[t],o="0"===l?"1":"0",u=i[r+"_"+o];if(u&&"-1"!==r.indexOf("F")){var s=parseInt(c.replace("F",""),10);if(u){var f=parseInt(u.replace("L",""),10);return s<f?"yellow":void 0}}}}},ye=ge,we=(n("4349"),Object(X["a"])(ye,te,ne,!1,null,"299ef473",null)),Ce=we.exports,_e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"table-metric pb-20"},[n("div",{staticClass:"title flex flex-between flex-vcenter ptb-10"},[n("span",{staticClass:"fs-20 font-bold"},[e._v(e._s(e.$t("tables.Table Metrics")))])]),n("el-table",{attrs:{data:e.tableData.slice((e.currentPage-1)*e.pageSize,e.currentPage*e.pageSize),center:"",border:""}},[e._l(e.columns,(function(e){var t=e.prop,a=e.label;return[n("el-table-column",{key:t,attrs:{prop:t,label:a,"show-overflow-tooltip":""}})]}))],2),n("div",{staticClass:"text-center"},[e.tableData.length>0?n("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[5,10,20,40],"page-size":e.pageSize,layout:"sizes, prev, pager, next, jumper",total:e.tableData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}):e._e()],1)],1)},Se=[];function je(e,t){return ze(e)||ke(e,t)||xe(e,t)||De()}function De(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function xe(e,t){if(e){if("string"===typeof e)return Oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oe(e,t):void 0}}function Oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function ke(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var a,r,l=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0)if(l.push(a.value),t&&l.length===t)break}catch(o){c=!0,r=o}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw r}}return l}}function ze(e){if(Array.isArray(e))return e}function $e(e,t,n,a,r,l,i){try{var c=e[l](i),o=c.value}catch(u){return void n(u)}c.done?t(o):Promise.resolve(o).then(a,r)}function Pe(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var l=e.apply(t,n);function i(e){$e(l,a,r,i,c,"next",e)}function c(e){$e(l,a,r,i,c,"throw",e)}i(void 0)}))}}var Ae={data:function(){return{tableData:[],currentPage:1,pageSize:10}},mounted:function(){this.fetchData()},methods:{fetchData:function(){var e=this;return Pe(o.a.mark((function t(){var n,a;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Z["g"].tableMetrics(e.$route.params.id);case 2:n=t.sent,a=n.data.entity,Object.entries(a).forEach((function(t){var n=je(t,2),a=n[0],r=n[1],l=r.columns,i=r.rows,c=r.space,o=r.completedQueries,u=r.failedQueries,s=r.parts,f=r.queryCost;e.tableData.push({tableName:a,columns:l,rows:i,space:c,completedQueries:o,failedQueries:u,parts:s,queryCost:Object.values(f).join(", ")})}));case 5:case"end":return t.stop()}}),t)})))()},handleSizeChange:function(e){this.pageSize=e},handleCurrentChange:function(e){this.currentPage=e}},computed:{columns:function(){var e=[{prop:"tableName",label:this.$t("tables.Table Name")},{prop:"columns",label:this.$t("tables.Columns")},{prop:"rows",label:this.$t("tables.Rows")},{prop:"parts",label:this.$t("tables.Parts")},{prop:"space",label:this.$t("tables.Disk Space")},{prop:"completedQueries",label:this.$t("tables.Completed Queries in last 24h")},{prop:"failedQueries",label:this.$t("tables.Failed Queries in last 24h")},{prop:"queryCost",label:this.$t("tables.Last 7 days info")}];return e}}},Ee=Ae,Te=(n("3249"),Object(X["a"])(Ee,_e,Se,!1,null,"0ea6cb38",null)),Ie=Te.exports,Fe={data:function(){return{}},mounted:function(){},methods:{},components:{ZkTable:ee,ReplicationTable:Ce,TableMetric:Ie}},Qe=Fe,Ne=Object(X["a"])(Qe,a,r,!1,null,"11456861",null);t["default"]=Ne.exports},"9fd3":function(e,t,n){}}]);